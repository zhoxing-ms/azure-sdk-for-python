

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Service Management &mdash; Azure SDK for Python 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/default_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/js/get_options.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Management" href="ref/API-Management.html" />
    <link rel="prev" title="Exception handling" href="exceptions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Azure SDK for Python
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart_authentication.html">Resource Management Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="mgmt_quickstart.html">Quickstart Tutorial - Resource Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_mgmt_migration_guide.html">Migration Guide - Resource Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="multicloud.html">Multi-cloud - use Azure on all regions</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exception handling</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Service Management (Legacy)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-up-certificates">Set-up certificates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-azure-publishsettings-certificate">Using the Azure .PublishSettings certificate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-and-uploading-new-certificate-with-openssl">Creating and uploading new certificate with OpenSSL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialization">Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-available-locations">List Available Locations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-storage-service">Create a Storage Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-cloud-service">Create a Cloud Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-deployment">Create a Deployment</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ref/API-Management.html">API Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Active-Directory.html">Active Directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Advisor.html">Advisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Alerts-Management.html">Alerts Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/App-Configuration.html">App Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/App-Service.html">App Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Application-Insights.html">Application Insights</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Attestation.html">Attestation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Authorization.html">Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Automation.html">Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Batch.html">Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Billing.html">Billing</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Bot-Service.html">Bot Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/CDN.html">CDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services.html">Cognitive Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Anomaly-Detector.html">Cognitive Services Anomaly Detector</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Knowledge-QnA-Maker.html">Cognitive Services Knowledge QnA Maker</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Language-LUIS.html">Cognitive Services Language LUIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Language-Spellcheck.html">Cognitive Services Language Spellcheck</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Language-TextAnalytics.html">Cognitive Services Language TextAnalytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Personalizer.html">Cognitive Services Personalizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Recognizer.html">Cognitive Services Recognizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-Autosuggest.html">Cognitive Services Search Autosuggest</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-CustomImageSearch.html">Cognitive Services Search CustomImageSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-CustomSearch.html">Cognitive Services Search CustomSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-EntitySearch.html">Cognitive Services Search EntitySearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-ImageSearch.html">Cognitive Services Search ImageSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-NewsSearch.html">Cognitive Services Search NewsSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-VideoSearch.html">Cognitive Services Search VideoSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-VisualSearch.html">Cognitive Services Search VisualSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Search-WebSearch.html">Cognitive Services Search WebSearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Vision-ComputerVision.html">Cognitive Services Vision ComputerVision</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Vision-ContentModerator.html">Cognitive Services Vision ContentModerator</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Vision-CustomVision.html">Cognitive Services Vision CustomVision</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cognitive-Services-Vision-Face.html">Cognitive Services Vision Face</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Commerce.html">Commerce</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Communication.html">Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Consumption.html">Consumption</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Container-Instance.html">Container Instance</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Container-Registry.html">Container Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Container-Service.html">Container Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cosmos.html">Cosmos</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cosmos-DB.html">Cosmos DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Cost-Management.html">Cost Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/DNS.html">DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Data-Bricks.html">Data Bricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Data-Factory.html">Data Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Data-Lake-Analytics.html">Data Lake Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Data-Lake-Store.html">Data Lake Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Data-Share.html">Data Share</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Data-migration.html">Data migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Deployment-Manager.html">Deployment Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Dev-Test-Labs.html">Dev Test Labs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/DevSpaces.html">DevSpaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Edge-Gateway.html">Edge Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Event-Grid.html">Event Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Event-Hub.html">Event Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Form-Recognizer.html">Form Recognizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Front-Door.html">Front Door</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/HDInsight.html">HDInsight</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Healthcare-APIs.html">Healthcare APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Hybrid-Cloud.html">Hybrid Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Identity.html">Identity</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/ImageBuilder.html">ImageBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/IoT.html">IoT</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/IoT-Central.html">IoT Central</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Keyvault.html">Keyvault</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Kusto.html">Kusto</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/LabServices.html">LabServices</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Log-Analytics.html">Log Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Logic-Apps.html">Logic Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/MSI.html">MSI</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Machine-Learning-Compute.html">Machine Learning Compute</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Managed-Services.html">Managed Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Management-Groups.html">Management Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Management-Partner.html">Management Partner</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Maps.html">Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Market-Place-Ordering.html">Market Place Ordering</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Media-Services.html">Media Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Metrics-Advisor.html">Metrics Advisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Mixed-Reality.html">Mixed Reality</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Monitoring.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/NetApp.html">NetApp</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Network.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Notification-Hubs.html">Notification Hubs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/OSS-RDBMS.html">OSS RDBMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Other.html">Other</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Peering.html">Peering</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Policy-Insights.html">Policy Insights</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Power-BI-Embedded.html">Power BI Embedded</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Private-DNS.html">Private DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Recovery-Services.html">Recovery Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Recovery-Services-Backup.html">Recovery Services Backup</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Redis-Cache.html">Redis Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Relay.html">Relay</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Reservations.html">Reservations</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Resource-Graph.html">Resource Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Resource-Management.html">Resource Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/SAP-Hana-on-Azure.html">SAP Hana on Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/SQL.html">SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/SQL-Virtual-Machine.html">SQL Virtual Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Scheduler.html">Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Search.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Search-Management.html">Search Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Security-Management.html">Security Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Serial-Console.html">Serial Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Server-Management.html">Server Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Service-Bus.html">Service Bus</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Service-Fabric.html">Service Fabric</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/SignalR-Management.html">SignalR Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Storage.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Storage-Sync.html">Storage Sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Subscription.html">Subscription</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Text-Analytics.html">Text Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Traffic-Manager.html">Traffic Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/VMWare-by-CloudSimple.html">VMWare by CloudSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Virtual-Machines.html">Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref/Web-Apps.html">Web Apps</a></li>
</ul>

            
          

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Azure SDK for Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Service Management</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/servicemanagement.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="service-management">
<h1>Service Management<a class="headerlink" href="#service-management" title="Permalink to this headline">¶</a></h1>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="set-up-certificates">
<h3>Set-up certificates<a class="headerlink" href="#set-up-certificates" title="Permalink to this headline">¶</a></h3>
<p>You will need two certificates, one for the server (a .cer file) and one for
the client (a .pem file).</p>
</div>
<div class="section" id="using-the-azure-publishsettings-certificate">
<h3>Using the Azure .PublishSettings certificate<a class="headerlink" href="#using-the-azure-publishsettings-certificate" title="Permalink to this headline">¶</a></h3>
<p>You can download your Azure publish settings file and use the certificate that
is embedded in that file to create the client certificate. The server
certificate already exists, so you won’t need to upload one.</p>
<p>To do this, download your <a class="reference external" href="http://go.microsoft.com/fwlink/?LinkID=301775">publish settings</a>
then use this code to create the .pem file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.servicemanagement</span> <span class="kn">import</span> <span class="n">get_certificate_from_publish_settings</span>

<span class="n">subscription_id</span> <span class="o">=</span> <span class="n">get_certificate_from_publish_settings</span><span class="p">(</span>
    <span class="n">publish_settings_path</span><span class="o">=</span><span class="s1">&#39;MyAccount.PublishSettings&#39;</span><span class="p">,</span>
    <span class="n">path_to_write_certificate</span><span class="o">=</span><span class="s1">&#39;mycert.pem&#39;</span><span class="p">,</span>
    <span class="n">subscription_id</span><span class="o">=</span><span class="s1">&#39;00000000-0000-0000-0000-000000000000&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The subscription id parameter is optional. If there are more than one
subscription in the publish settings, the first one will be used.</p>
</div>
<div class="section" id="creating-and-uploading-new-certificate-with-openssl">
<h3>Creating and uploading new certificate with OpenSSL<a class="headerlink" href="#creating-and-uploading-new-certificate-with-openssl" title="Permalink to this headline">¶</a></h3>
<p>To create the .pem file using <a class="reference external" href="http://www.openssl.org">OpenSSL</a>, execute this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>openssl req -x509 -nodes -days <span class="m">365</span> -newkey rsa:1024 -keyout mycert.pem -out mycert.pem
</pre></div>
</div>
<p>To create the .cer certificate, execute this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>openssl x509 -inform pem -in mycert.pem -outform der -out mycert.cer
</pre></div>
</div>
<p>After you have created the certificate, you will need to upload the .cer
file to Microsoft Azure via the “Upload” action of the “Settings” tab of
the <a class="reference external" href="http://manage.windowsazure.com">management portal</a>.</p>
</div>
<div class="section" id="initialization">
<h3>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h3>
<p>To initialize the management service, pass in your subscription id and
the path to the .pem file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.servicemanagement</span> <span class="kn">import</span> <span class="n">ServiceManagementService</span>
<span class="n">subscription_id</span> <span class="o">=</span> <span class="s1">&#39;00000000-0000-0000-0000-000000000000&#39;</span>
<span class="n">cert_file</span> <span class="o">=</span> <span class="s1">&#39;mycert.pem&#39;</span>
<span class="n">sms</span> <span class="o">=</span> <span class="n">ServiceManagementService</span><span class="p">(</span><span class="n">subscription_id</span><span class="p">,</span> <span class="n">cert_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="list-available-locations">
<h3>List Available Locations<a class="headerlink" href="#list-available-locations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">locations</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="n">list_locations</span><span class="p">()</span>
<span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-storage-service">
<h3>Create a Storage Service<a class="headerlink" href="#create-a-storage-service" title="Permalink to this headline">¶</a></h3>
<p>To create a storage service, you need a name for the service (between 3
and 24 lowercase characters and unique within Microsoft Azure), a label
(up to 100 characters, automatically encoded to base-64), and either a
location or an affinity group.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mystorageservice&quot;</span>
<span class="n">desc</span> <span class="o">=</span> <span class="n">name</span>
<span class="n">label</span> <span class="o">=</span> <span class="n">name</span>
<span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;West US&#39;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="n">create_storage_account</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">desc</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-cloud-service">
<h3>Create a Cloud Service<a class="headerlink" href="#create-a-cloud-service" title="Permalink to this headline">¶</a></h3>
<p>A cloud service is also known as a hosted service (from earlier versions
of Microsoft Azure). The <strong>create_hosted_service</strong> method allows you
to create a new hosted service by providing a hosted service name (which
must be unique in Microsoft Azure), a label (automatically encoded to
base-64), and the location <em>or</em> the affinity group for your service.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;myhostedservice&quot;</span>
<span class="n">desc</span> <span class="o">=</span> <span class="n">name</span>
<span class="n">label</span> <span class="o">=</span> <span class="n">name</span>
<span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;West US&#39;</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="n">create_hosted_service</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">desc</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="create-a-deployment">
<h3>Create a Deployment<a class="headerlink" href="#create-a-deployment" title="Permalink to this headline">¶</a></h3>
<p>To make a new deployment to Azure you must store the package file in a
Microsoft Azure Blob Storage account under the same subscription as the
hosted service to which the package is being uploaded. You can create a
deployment package with the <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/azure/?view=azps-3.2.0">Microsoft Azure PowerShell
cmdlets</a>,
or with the <a class="reference external" href="https://docs.microsoft.com/en-us/azure/cloud-services/cloud-services-model-and-package#servicepackagecspkg">cspack commandline
tool</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">service_name</span> <span class="o">=</span> <span class="s2">&quot;myhostedservice&quot;</span>
<span class="n">deployment_name</span> <span class="o">=</span> <span class="s2">&quot;v1&quot;</span>
<span class="n">slot</span> <span class="o">=</span> <span class="s1">&#39;Production&#39;</span>
<span class="n">package_url</span> <span class="o">=</span> <span class="s2">&quot;URL_for_.cspkg_file&quot;</span>
<span class="n">configuration</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path_to_.cscfg_file&#39;</span><span class="p">))</span>
<span class="n">label</span> <span class="o">=</span> <span class="n">service_name</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="n">create_deployment</span><span class="p">(</span><span class="n">service_name</span><span class="p">,</span>
                     <span class="n">slot</span><span class="p">,</span>
                     <span class="n">deployment_name</span><span class="p">,</span>
                     <span class="n">package_url</span><span class="p">,</span>
                     <span class="n">label</span><span class="p">,</span>
                     <span class="n">configuration</span><span class="p">)</span>

<span class="n">operation</span> <span class="o">=</span> <span class="n">sms</span><span class="o">.</span><span class="n">get_operation_status</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">request_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Operation status: &#39;</span> <span class="o">+</span> <span class="n">operation</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ref/API-Management.html" class="btn btn-neutral float-right" title="API Management" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exceptions.html" class="btn btn-neutral float-left" title="Exception handling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Microsoft

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-62780441-36"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-62780441-36');
</script>


</body>
</html>